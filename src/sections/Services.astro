---
import ContentWidth from "../components/ui/ContentWidth.astro";

const problems = [
  { title: "Imagen borrosa", description: "Falta de nitidez, lentes sucios o lámpara agotada.", icon: "focus", tag: "Frecuente" },
  { title: "Puntos en pantalla", description: "Puntos blancos o negros por daño en chip DMD o polvo.", icon: "pixels" },
  { title: "Sin señal / Error HDMI", description: "No reconoce entradas de video o puertos dañados.", icon: "signal" },
  { title: "Lámpara no enciende", description: "Fin de vida útil, error de balastro o explosión.", icon: "lamp", tag: "Urgente" },
  { title: "Sobrecalentamiento", description: "Limpieza profunda de ventiladores y cambio de pasta.", icon: "heat", tag: "Mantenimiento" },
  { title: "Se apaga solo", description: "Fallos en la fuente de poder o sensores térmicos.", icon: "power" },
];

const toSlug = (t) => t.toLowerCase().replace(/[^a-z0-9]+/g, "-");
---

<section class="py-24  text-white">
  <ContentWidth>
    <div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-16">
      <header class="max-w-2xl">
        <span class="text-yellow-400 text-xs font-bold uppercase tracking-[0.2em] mb-4 block">
          Diagnóstico Especializado
        </span>
        <h2 class="text-3xl md:text-5xl font-black tracking-tight">
          ¿Qué le sucede a <br/> <span class="text-gray-500">tu proyector?</span>
        </h2>
      </header>
      <p class="text-gray-400 max-w-sm text-lg leading-relaxed">
        Identifica el problema y recibe una cotización inmediata con repuestos originales.
      </p>
    </div>

    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {problems.map((p) => (
        <a
          href={`/cotizar?problema=${toSlug(p.title)}`}
          class="group relative block overflow-hidden rounded-2xl border border-white/5 bg-white/[0.02] p-8 transition-all duration-300 hover:bg-white/[0.05] hover:border-yellow-400/30"
        >
          <div class="absolute -right-10 -top-10 h-32 w-32 rounded-full bg-yellow-400/5 blur-3xl transition-opacity opacity-0 group-hover:opacity-100"></div>

          <div class="flex items-start justify-between">
            <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-yellow-400 text-black shadow-lg shadow-yellow-400/20 group-hover:scale-110 transition-transform">
              {p.icon === "focus" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M3 12h2m14 0h2M12 3v2m0 14v2"/></svg>
              )}
              {p.icon === "lamp" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 2v2m0 16v2M4.9 4.9l1.4 1.4m11.4 11.4l1.4 1.4M2 12h2m16 0h2M6.3 17.7l-1.4 1.4M19.1 4.9l-1.4 1.4M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"/></svg>
              )}
              {p.icon === "heat" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 2v14m0 0a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/></svg>
              )}
              {p.icon === "signal" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M2 12h5m10 0h5M7.5 7l9 10M16.5 7l-9 10"/></svg>
              )}
              {p.icon === "pixels" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/><rect x="14" y="3" width="4" height="4" rx="1"/><rect x="3" y="14" width="4" height="4" rx="1"/></svg>
              )}
              {p.icon === "power" && (
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M18.36 6.64a9 9 0 1 1-12.73 0M12 2v10"/></svg>
              )}
            </div>

            {p.tag && (
              <span class="text-[10px] font-bold uppercase tracking-widest text-yellow-400 bg-yellow-400/10 px-3 py-1 rounded-full border border-yellow-400/20">
                {p.tag}
              </span>
            )}
          </div>

          <h3 class="mt-8 text-xl font-bold text-white group-hover:text-yellow-400 transition-colors">
            {p.title}
          </h3>

          <p class="mt-3 text-sm leading-relaxed text-gray-400">
            {p.description}
          </p>

          <div class="mt-8 pt-6 border-t border-white/5 flex items-center justify-between">
            <span class="text-xs font-semibold uppercase tracking-wider text-gray-500">Soporte Técnico</span>
            <span class="text-sm font-bold text-yellow-400 inline-flex items-center gap-2">
              Cotizar <span class="group-hover:translate-x-1 transition-transform">→</span>
            </span>
          </div>
        </a>
      ))}
    </div>
  </ContentWidth>
</section>